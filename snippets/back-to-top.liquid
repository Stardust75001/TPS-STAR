{% comment %}
  Back to Top Button
{% endcomment %}

{% if settings.back_to_top_enable %}
  <button
    id="back-to-top-btn"
    class="btn btn-primary btn-floating back-to-top-btn"
    type="button"
    aria-label="{{ 'general.accessibility.back_to_top' | t }}"
    onclick="scrollToTop()"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="20"
      height="20"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <polyline points="18,15 12,9 6,15"></polyline>
    </svg>
  </button>

  <style>
    .back-to-top-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      border: none;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
    }

    .back-to-top-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .back-to-top-btn.show {
      display: flex;
    }

    @media (max-width: 768px) {
      .back-to-top-btn {
        bottom: 15px;
        right: 15px;
        width: 45px;
        height: 45px;
      }
    }
  </style>

  <script>
    function initBackToTop() {
      const backToTopBtn = document.getElementById('back-to-top-btn');
      if (!backToTopBtn) return;

      // Show/hide button based on scroll position
      window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
          backToTopBtn.classList.add('show');
        } else {
          backToTopBtn.classList.remove('show');
        }
      });
    }

    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', initBackToTop);
  </script>
{% endif %}
